(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[173],{1098:(e,s,t)=>{"use strict";t.d(s,{w:()=>i});var r=t(95155),a=t(7082),l=t(10639),n=t(52619),d=t.n(n);let c=e=>(0,r.jsx)("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,r.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z",fill:"currentColor"})});function i(){return(0,r.jsx)("footer",{className:"border-t bg-card",children:(0,r.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-between gap-6 md:flex-row",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center gap-2 text-center md:items-start md:text-left",children:[(0,r.jsx)(a.g,{}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["\xa9 ",new Date().getFullYear()," Pc Point. All rights reserved."]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)(d(),{href:"#","aria-label":"WhatsApp",children:(0,r.jsx)(c,{className:"h-6 w-6 text-muted-foreground transition-colors hover:text-foreground"})}),(0,r.jsx)(d(),{href:"https://maps.app.goo.gl/mp6S319hKZDz36Qr8","aria-label":"Google Maps",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)(l.A,{className:"h-6 w-6 text-muted-foreground transition-colors hover:text-foreground"})})]})]})})})}},11121:(e,s,t)=>{"use strict";t.d(s,{E:()=>l});var r=t(95155),a=t(33931);function l(e){let{className:s,...t}=e;return(0,r.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",s),...t})}},39749:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>E});var r=t(95155),a=t(12115),l=t(20063),n=t(73975),d=t(1098),c=t(21006),i=t(68818),o=t(19708),x=t(90758),m=t(11121),u=t(98039),f=t(26991),h=t(94632),j=t(47734),p=t(73697),g=t(23508),N=t(26736),v=t(33686),w=t(64511);function y(){let e=(0,c.jt)(),s=(0,a.useMemo)(()=>e?(0,o.P)((0,o.rJ)(e,"serviceRequests")):null,[e]),{data:t,isLoading:l}=(0,i.useCollection)(s),{totalRevenue:n,revenueByDay:d}=(0,a.useMemo)(()=>{if(!t)return{totalRevenue:0,revenueByDay:[]};let e=t.filter(e=>"Completed"===e.status&&e.cost),s=e.reduce((e,s)=>e+(s.cost||0),0),r=new Map,a=(0,v.e)(new Date,30);return e.forEach(e=>{if(e.updatedAt.toDate()>=a){let s=(0,w.GP)(e.updatedAt.toDate(),"MMM d"),t=r.get(s)||0;r.set(s,t+(e.cost||0))}}),{totalRevenue:s,revenueByDay:Array.from(r,e=>{let[s,t]=e;return{name:s,total:t}}).reverse()}},[t]);return l?(0,r.jsxs)(x.Zp,{children:[(0,r.jsxs)(x.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(x.ZB,{className:"text-sm font-medium",children:"Total Revenue"}),(0,r.jsx)(u.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(x.Wu,{children:[(0,r.jsx)(m.E,{className:"h-8 w-1/2"}),(0,r.jsx)(m.E,{className:"h-4 w-3/4 mt-2"})]})]}):(0,r.jsxs)(x.Zp,{children:[(0,r.jsxs)(x.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(x.ZB,{className:"text-sm font-medium",children:"Total Revenue"}),(0,r.jsx)(u.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(x.Wu,{children:[(0,r.jsxs)("div",{className:"text-2xl font-bold",children:["₹",n.toFixed(2)]}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Based on all completed service requests."}),d.length>0&&(0,r.jsx)("div",{className:"h-[200px] mt-4",children:(0,r.jsx)(f.u,{width:"100%",height:"100%",children:(0,r.jsxs)(h.E,{data:d,children:[(0,r.jsx)(j.W,{dataKey:"name",stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1}),(0,r.jsx)(p.h,{stroke:"#888888",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:e=>"₹".concat(e)}),(0,r.jsx)(g.m,{cursor:{fill:"hsl(var(--muted))"},content:e=>{let{active:s,payload:t}=e;return s&&t&&t.length?(0,r.jsx)("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-[0.70rem] uppercase text-muted-foreground",children:"Day"}),(0,r.jsx)("span",{className:"font-bold text-muted-foreground",children:t[0].payload.name})]}),(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-[0.70rem] uppercase text-muted-foreground",children:"Revenue"}),(0,r.jsxs)("span",{className:"font-bold",children:["₹",t[0].value.toFixed(2)]})]})]})}):null}}),(0,r.jsx)(N.y,{dataKey:"total",fill:"hsl(var(--primary))",radius:[4,4,0,0]})]})})})]})]})}var b=t(57356),k=t(36204),R=t(98428),C=t(52619),A=t.n(C);function E(){let e=(0,l.useRouter)(),[s,t]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{"true"!==sessionStorage.getItem("isAdminLoggedIn")?e.push("/login"):t(!1)},[e]),s)?(0,r.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,r.jsx)(n.Header,{}),(0,r.jsxs)("main",{className:"flex-grow container mx-auto px-4 py-8 sm:py-12 space-y-8",children:[(0,r.jsx)(m.E,{className:"h-10 w-1/3"}),(0,r.jsx)(m.E,{className:"h-64 w-full"})]}),(0,r.jsx)(d.w,{})]}):(0,r.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,r.jsx)(n.Header,{}),(0,r.jsxs)("main",{className:"flex-grow container mx-auto px-4 py-6 sm:py-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight font-headline",children:"Revenue Overview"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Track your total revenue from completed services."})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(b.$,{asChild:!0,variant:"outline",children:(0,r.jsxs)(A(),{href:"/admin",children:[(0,r.jsx)(k.A,{className:"mr-2 h-4 w-4"}),"Back to Dashboard"]})}),(0,r.jsxs)(b.$,{onClick:()=>{sessionStorage.removeItem("isAdminLoggedIn"),e.push("/login")},variant:"outline",children:[(0,r.jsx)(R.A,{className:"mr-2 h-4 w-4"}),"Logout"]})]})]}),(0,r.jsx)(y,{})]}),(0,r.jsx)(d.w,{})]})}},69416:(e,s,t)=>{Promise.resolve().then(t.bind(t,39749))},90758:(e,s,t)=>{"use strict";t.d(s,{BT:()=>i,Wu:()=>o,ZB:()=>c,Zp:()=>n,aR:()=>d,wL:()=>x});var r=t(95155),a=t(12115),l=t(33931);let n=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});n.displayName="Card";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...a})});d.displayName="CardHeader";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("h3",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});c.displayName="CardTitle";let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("p",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...a})});i.displayName="CardDescription";let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",t),...a})});o.displayName="CardContent";let x=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t),...a})});x.displayName="CardFooter"}},e=>{e.O(0,[992,644,873,288,837,78,975,441,255,358],()=>e(e.s=69416)),_N_E=e.O()}]);